# .husky/pre-commit
handle_error() {
    echo "âŒ $1 failed!"
    exit 1
}

echo "ğŸ” Running code quality checks..."
echo "â³ Checking ESLint and Prettier rules..."

if ! npx lint-staged; then
    echo "âŒ Code quality checks failed!"
    exit 1
fi

echo "ğŸ§ª Running all tests..."
npm run test || handle_error "Tests"

echo "Code quality checks passed successfully!"